<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    君の名は
  </title>
  <link rel="icon" href="/imgs/favicon.ico">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/plugins/highlight/styles/atom-one-dark.css">
  <!-- Gitalk -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
    <script>
      window.addEventListener('load', () => {
        const gitalkContainer = document.getElementById('gitalk-container');
        if (!gitalkContainer) return;
        const gitalk = new Gitalk({
          clientID: 'c9f73c62f3102ab718ca',
          clientSecret: 'baaae04e80a7772584de07c3c343d48a7d2670da',
          repo: 'jackzong.github.io',      // The repository of store comments '
          owner: 'JackZong',
          admin: ['JackZong'],
          id: location.pathname,      // Ensure uniqueness and length less than 50
          distractionFreeMode: false  // Facebook-like distraction free mode
        })
        gitalk.render('gitalk-container');
      })
    </script>
    
<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <nav>
  <div class="nav-item logo">
    <a href="/">
      <button class="btn btn-hover">
        <span>
          君の名は
        </span>
      </button>
    </a>
  </div>
  
    <div class="nav-item"><a href="/">
        主页
      </a></div>
    
    <div class="nav-item"><a href="/archives">
        时间轴
      </a></div>
    
    <div class="nav-item"><a href="/tags">
        标签
      </a></div>
    
    <div class="nav-item"><a href="/about">
        关于
      </a></div>
    
</nav>
    <main>
        <div class="wrapper">
    
      
        <article class="card ">
  
              
                <div class="posted-on">『23年09月23日』</div>
                <h3 class="article-title"><a href="/2023/09/23/gfm-performace-improve-2/"><span>
                      电商网站性能优化 - Part Ⅱ
                    </span></a></h3>
                
                    
                      <div class="article-top-meta">
                        
                          
                            <a href="/tags/技术点提取/" class="post-tag">技术点提取</a><a href="/tags/Next-js/" class="post-tag">Next.js</a><a href="/tags/性能优化/" class="post-tag">性能优化</a>
                              
                      </div>
                      

                          <div class="article-content">
                            <div class="entry">
                              
                                <p>之前主要在缓存方面对 Website 进行了优化,<a href="%22./stale-while-revalidate.md%22">优化 1</a>。主要解决了第二次及以上访问 app 的速度问题，但是对于用户第一次访问还是会慢一些，整个站点的 Web Vitals 也不是很好。</p>
<p>这是优化前的得分：</p>
<p><img src="/2023/09/23/gfm-performace-improve-2/performance-before.png" alt="Web Vitals Before"></p>
<p>所以，决定通过一些分析工具对整个站点做一个全面的性能分析，再对症下药。</p>
<h2 id="那么，有哪些好用的性能分析工具？"><a href="#那么，有哪些好用的性能分析工具？" class="headerlink" title="那么，有哪些好用的性能分析工具？"></a>那么，有哪些好用的性能分析工具？</h2><ol>
<li><a target="_blank" rel="noopener" href="https://pagespeed.web.dev/">PageSpeed Insights</a><br>这是 Google 的在线性能分析工具，可以提供你站点近 28 天的性能数据，包括 core web vitals（FCP,CLS,LCP 等）。</li>
<li>Chrome lighthouse<br>谷歌浏览器本地自带的性能分析工具，可以在本地对你的应用进行“跑分”。</li>
</ol>
<p>以上工具跑完都会得出上图的一份性能报告，报告的内容可以叫做<a target="_blank" rel="noopener" href="https://web.dev/vitals/">Web vitals</a>，这是 Google 制定的用来衡量 web page 性能的 guideline 。</p>
                                  <p class="read-more"> <a href="/2023/09/23/gfm-performace-improve-2/" title="read more">
                                      阅读更多<a></p>
                                  
                            </div>
                          </div>
                          <div class="article-footer">

                          </div>
</article>
       
      
      
        <article class="card ">
  
              
                <div class="posted-on">『23年07月11日』</div>
                <h3 class="article-title"><a href="/2023/07/11/stale-while-revalidate/"><span>
                      记录一次 website 性能优化与思考
                    </span></a></h3>
                
                    
                      <div class="article-top-meta">
                        
                          
                            <a href="/tags/技术点提取/" class="post-tag">技术点提取</a>
                              
                      </div>
                      

                          <div class="article-content">
                            <div class="entry">
                              
                                <p><a target="_blank" rel="noopener" href="https://xxx.com/">GFM</a> 是我司的一个电商站点,主要技术架构是基于 Next.js 做的 SSR App。</p>
<p>一直以来存在着一些性能问题：</p>
<ul>
<li>页面跳转很慢 2-3s</li>
<li>商品详情页访问很慢 2-3s</li>
<li>商品分类、集合、seller site 访问很慢 2-3s</li>
</ul>
<p>随着对项目的进一步熟悉，也渐渐的发现了导致访问慢的一些原因，然后针对性的做了一些优化。</p>
                                  <p class="read-more"> <a href="/2023/07/11/stale-while-revalidate/" title="read more">
                                      阅读更多<a></p>
                                  
                            </div>
                          </div>
                          <div class="article-footer">

                          </div>
</article>
       
      
      
        <article class="card ">
  
              
                <div class="posted-on">『23年05月21日』</div>
                <h3 class="article-title"><a href="/2023/05/21/oauth-secure-issue-prevention/"><span>
                      使用OAuth实现统一登录的安全防范
                    </span></a></h3>
                
                    
                      <div class="article-top-meta">
                        
                      </div>
                      

                          <div class="article-content">
                            <div class="entry">
                              
                                <p>当使用 OAuth2.0 去实现应用的统一登录验证时，会存在一些安全问题，值得开发者们思考与防范。特指 <code>authorization code</code> 模式。</p>
<p>回顾一下<code>authorization code</code>授权登录的整个流程：</p>
<ol>
<li><p>到 <strong>OAuth Provider</strong> 注册一个应用，获取 app key(client ID) 和 app secret，并填写回调地址;</p>
</li>
<li><p>client 端引导用户打开统一登录页面，并携带<code>app key</code>。</p>
</li>
<li><p>用户登录完成后跳转到指定的<code>redirect_uri</code>，并返回<code>authorization code</code>。</p>
<p>题外话：<em>implicit 模式貌似可在 step3 直接返回 token</em></p>
</li>
<li><p>第三方 app 服务端调用<code>OAuth Provider</code> 获取 token 的 API，通常是<code>/oauth/token</code>， 携带<code>authorization code</code>和<code>app key</code>、<code>app secret</code>去换取 token.</p>
</li>
<li><p>拿到 token 后就算登录成功了</p>
</li>
</ol>
                                  <p class="read-more"> <a href="/2023/05/21/oauth-secure-issue-prevention/" title="read more">
                                      阅读更多<a></p>
                                  
                            </div>
                          </div>
                          <div class="article-footer">

                          </div>
</article>
       
      
      
        <article class="card ">
  
              
                <div class="posted-on">『23年04月25日』</div>
                <h3 class="article-title"><a href="/2023/04/25/wechat-login/"><span>
                      怎么实现微信扫码登录
                    </span></a></h3>
                
                    
                      <div class="article-top-meta">
                        
                          
                            <a href="/tags/技术点提取/" class="post-tag">技术点提取</a><a href="/tags/日常工作/" class="post-tag">日常工作</a>
                              
                      </div>
                      

                          <div class="article-content">
                            <div class="entry">
                              
                                <p>最近在给企业健康管理系统做一个微信扫码登录的功能，借此机会总结下微信登录这个技术点。</p>
<p>网站应用微信登录是基于 <a target="_blank" rel="noopener" href="https://oauth.net/2/">OAuth2.0</a> 协议标准构建的。OAuth 协议规范了五种授权模式，Authorization Code、PKCE、Client CreDentials、Device Code 和 Refresh Token。微信目前只支持 authorization_code 模式。</p>
                                  <p class="read-more"> <a href="/2023/04/25/wechat-login/" title="read more">
                                      阅读更多<a></p>
                                  
                            </div>
                          </div>
                          <div class="article-footer">

                          </div>
</article>
       
      
      
        <article class="card ">
  
              
                <div class="posted-on">『23年03月28日』</div>
                <h3 class="article-title"><a href="/2023/03/28/acbout-cvte-cir-framework/"><span>
                      最近工作的一些感想
                    </span></a></h3>
                
                    
                      <div class="article-top-meta">
                        
                          
                            <a href="/tags/最近还好吗/" class="post-tag">最近还好吗</a>
                              
                      </div>
                      

                          <div class="article-content">
                            <div class="entry">
                              
                                <p>在新东家已经待了三个月有余，老实讲这并不是一个友好的工作环境，你们遇到的坑这里估计都有，我想这也是很多小团队普遍会存在的一些问题，这里不再细讲。</p>
<p>工作是人生的一段段旅程，加入一家公司，离开，再加入另一家公司，每次选择或许充满着确定的喜悦，或许充满着不确定的忧愁，并不是每个人都能如愿爬到金字塔的顶尖。
                                  <p class="read-more"> <a href="/2023/03/28/acbout-cvte-cir-framework/" title="read more">
                                      阅读更多<a></p>
                                  
                            </div>
                          </div>
                          <div class="article-footer">

                          </div>
</article>
       
      
    
</div>

<nav class="pagination">
<a href="/" class="pagination-prev">
 <strong>前へ</strong>
</a>



  <a href="/" class="pagination-item active">
  1
  </a>




  <a href="/page/2/" class="pagination-item ">
  2
  </a>
  


  <a href="/page/3/" class="pagination-item ">
  3
  </a>
  


  <a href="/page/4/" class="pagination-item ">
  4
  </a>
  

<a href="/page/2/" class="pagination-next">
   <strong>次に</strong>
</a>
</nav>

    </main>
    <div class="footer">
  <div class="copy">
    &copy;
      2023 君の名は。|
        によって作成されたテーマ<a href="https://github.com/JackZong" target="_blank" title="Theme created by @J.zong">@J.zong</a>
  </div>
  <div class="hexo">
    <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  <div class="hexo" title="Powered by Hexo">
    搭載 <a href="http://hexo.io/" target="_blank">Hexo</a> | <a href="javascript:void(0);" id="bgToggle"> 背景画像 </a>
  </div>
</div>

<script>
  window.onload = function () {
    const withBg = localStorage.getItem('withBg');
    if (withBg === 'true') {
      document.body.classList.add('with-bg');
      document.getElementById('bgToggle').classList.add('active');
    }

    document.getElementById('bgToggle').addEventListener('click', function (e) {
      e.preventDefault();
      const withBg = localStorage.getItem('withBg');
      if (withBg === 'true') {
        localStorage.setItem('withBg', 'false');
        document.body.classList.remove('with-bg');
        document.getElementById('bgToggle').classList.remove('active');
      } else {
        localStorage.setItem('withBg', 'true');
        document.body.classList.add('with-bg');
        document.getElementById('bgToggle').classList.add('active');
      }
    })
  }
</script>


  <script src="/plugins/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

    
      <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      
        </body>

        </html>
</body>
</html>